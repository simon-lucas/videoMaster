upackage VideoMaster {		import flash.display.MovieClip;	import data.Global;	import com.greensock.loading.ImageLoader;	import com.greensock.loading.LoaderMax;	import com.greensock.events.LoaderEvent;	import flash.display.Sprite;	import flash.utils.Timer;	import flash.events.TimerEvent;			public class TimeLine extends MovieClip {				private var bgImagename = "Map_vector_LAND.jpg"		private var overlay:String = "Map_vector_water 3840_"		private var imageCount:uint = 375;		private var overLaySprite:Sprite;		private var mapSprite:Sprite;		private var animTimer:Timer		public function TimeLine() {			// constructor code					}				public function init():void{			mapSprite = new Sprite()			addChild(mapSprite)			overLaySprite = new Sprite()			addChild(overLaySprite)			loadImages()			animTimer = new Timer(40,0)			animTimer.addEventListener(TimerEvent.TIMER,playAnim)		}				public function loadImages():void{			var imageLoader = new ImageLoader("timeline_images/Map_vector_LAND.jpg", {name:"Map_vector_LAND.jpg" , vAlign:"center", container:mapSprite, estimatedBytes:2400,  alpha:1, scaleMode:"proportionalInside", centerRegistration:true, onComplete:completeHandler1})						imageLoader.load()			Global.timeLineQueue = new LoaderMax({name:"timeLineQueue", onProgress:progressHandler, onComplete:completeHandler2});			for (var i:int = 0; i < imageCount; i++)			{				//var h= new HorsePicture();				//trace(i, Global.horseCollection[i].image)				//h.init(i, Global.horseCollection[i].image+".jpg")				//h.init(i, Global.horseCollection[i])				//h.image=Global.horseCollection[i].image				var num = String(i)				while(num.length < 5){					num="0"+num;				}				//container:h.thumbHolder,				var overlayName = overlay + num;				var imageLoader = new ImageLoader("timeline_images/"+overlayName+".png", {name:overlayName , vAlign:"center", estimatedBytes:2400,  alpha:1, scaleMode:"proportionalInside", centerRegistration:true})				//h.thumbLoader = imageLoader				Global.timeLineQueue.append(imageLoader);				//horsePics.push(h)						}					}				public function completeHandler1(e:LoaderEvent):void{			trace("completeHandler1")			overLaySprite.addChild(Global.timeLineQueue.getChildAt(100).content)			Global.timeLineQueue.load()		}		public function completeHandler2(e:LoaderEvent):void{			trace("completeHandler2")			overLaySprite.addChild(Global.timeLineQueue.getChildAt(100).content)			trace("X", Global.timeLineQueue.getChildAt(100).content)			animTimer.start()		}		public function progressHandler(e:LoaderEvent):void{			//trace("yikes")		}		public function playAnim(e:TimerEvent):void{			while(overLaySprite.numChildren>0){				overLaySprite.removeChildAt(0)			}			overLaySprite.addChild(Global.timeLineQueue.getChildAt(animTimer.currentCount%imageCount).content)		}	}	}