package com.simon.utils{	import flash.events.*;	import flash.net.URLRequest;	import flash.display.Loader;	import flash.display.Sprite;	import flash.display.Shape;	import flash.text.*;	import flash.events.*;	import com.anttikupila.utils.JPGSizeExtractor;	public class imageLoaderPlus extends imageLoader {		import com.anttikupila.utils.*;		public function imageLoaderPlus (_mc:Sprite,iheight,iwidth,xx,yy,scaleTo:String,progBarMode:String) {			super(_mc,iheight,iwidth,xx,yy,scaleTo,progBarMode);		}		public override function loadImage( url:String,imageUrl:String=null):void {			this.url=url			_imageUrl=imageUrl;			var je : JPGSizeExtractor = new JPGSizeExtractor( );			je.addEventListener( JPGSizeExtractor.PARSE_COMPLETE, realLoadImage,false,0,true );			je.addEventListener( JPGSizeExtractor.PARSE_FAILED, failLoadImage,false,0,true );			je.addEventListener( JPGSizeExtractor.PARSE_FAILED, failLoadImage,false,0,true );						//je.debug = true;			je.extractSize( url);		}		public function realLoadImage(e:Event):void {			_contentWidth=e.target.width;			_contentHeight= e.target.height;			dispatchEvent(new Event("gotSize"));			//trace( "SIZE: " + e.target.width + " x " + e.target.height );			//trace("realLoadImage _contentWidth "+_contentWidth);			super.loadImage( url,_imageUrl);		}		public function failLoadImage(e:Event):void {			super.loadImage( url,_imageUrl);		}	}}